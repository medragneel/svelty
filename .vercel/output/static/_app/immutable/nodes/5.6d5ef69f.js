import{g as $,e as N,u as H,d as U,m as S}from"../chunks/global.0085e4a6.js";import{s as J,n as O,f as C}from"../chunks/scheduler.b562018a.js";import{S as K,i as L,g as p,s as y,h as v,j as E,x as Q,c as k,f as b,k as d,a as M,y as h,C as V,z as W,e as R}from"../chunks/index.e5922e3f.js";async function X({url:n,fetch:e}){const t=n.searchParams.get("query");if(!t)return{query:t,movies:[]};const l=await $(e,"/search/multi",{query:t});return{query:t,movies:l.results}}const ae=Object.freeze(Object.defineProperty({__proto__:null,load:X},Symbol.toStringTag,{value:"Module"}));function z(n,e,t){const l=n.slice();return l[2]=e[t],l}function F(n){let e,t,l=[],u=new Map,o,i,r=N(n[0].movies);const a=s=>s[2].id;for(let s=0;s<r.length;s+=1){let c=z(n,r,s),f=a(c);u.set(f,l[s]=G(f,c))}return{c(){e=p("div"),t=p("div");for(let s=0;s<l.length;s+=1)l[s].c();o=y(),i=p("br"),this.h()},l(s){e=v(s,"DIV",{class:!0});var c=E(e);t=v(c,"DIV",{class:!0});var f=E(t);for(let q=0;q<l.length;q+=1)l[q].l(f);f.forEach(b),o=k(c),i=v(c,"BR",{}),c.forEach(b),this.h()},h(){d(t,"class","grid"),d(e,"class","container")},m(s,c){M(s,e,c),h(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);h(e,o),h(e,i)},p(s,c){c&1&&(r=N(s[0].movies),l=H(l,c,a,1,s,r,u,t,U,G,null,z))},d(s){s&&b(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function Y(n){let e,t,l,u,o,i;return{c(){e=p("a"),t=p("img"),o=y(),this.h()},l(r){e=v(r,"A",{href:!0});var a=E(e);t=v(a,"IMG",{src:!0,alt:!0}),o=k(a),a.forEach(b),this.h()},h(){C(t.src,l=S(n[2].poster_path,200))||d(t,"src",l),d(t,"alt",u=n[2].title),d(e,"href",i=`/tv/${n[2].id}`)},m(r,a){M(r,e,a),h(e,t),h(e,o)},p(r,a){a&1&&!C(t.src,l=S(r[2].poster_path,200))&&d(t,"src",l),a&1&&u!==(u=r[2].title)&&d(t,"alt",u),a&1&&i!==(i=`/tv/${r[2].id}`)&&d(e,"href",i)},d(r){r&&b(e)}}}function Z(n){let e,t,l,u,o,i;return{c(){e=p("a"),t=p("img"),o=y(),this.h()},l(r){e=v(r,"A",{href:!0});var a=E(e);t=v(a,"IMG",{src:!0,alt:!0}),o=k(a),a.forEach(b),this.h()},h(){C(t.src,l=S(n[2].poster_path,200))||d(t,"src",l),d(t,"alt",u=n[2].title),d(e,"href",i=`/movie/${n[2].id}`)},m(r,a){M(r,e,a),h(e,t),h(e,o)},p(r,a){a&1&&!C(t.src,l=S(r[2].poster_path,200))&&d(t,"src",l),a&1&&u!==(u=r[2].title)&&d(t,"alt",u),a&1&&i!==(i=`/movie/${r[2].id}`)&&d(e,"href",i)},d(r){r&&b(e)}}}function G(n,e){let t,l;function u(r,a){return r[2].media_type==="movie"?Z:Y}let o=u(e),i=o(e);return{key:n,first:null,c(){t=R(),i.c(),l=R(),this.h()},l(r){t=R(),i.l(r),l=R(),this.h()},h(){this.first=t},m(r,a){M(r,t,a),i.m(r,a),M(r,l,a)},p(r,a){e=r,o===(o=u(e))&&i?i.p(e,a):(i.d(1),i=o(e),i&&(i.c(),i.m(l.parentNode,l)))},d(r){r&&(b(t),b(l)),i.d(r)}}}function x(n){let e,t,l="Sarch For A Movie / TvShow",u,o,i,r,a,s,c,f,q,I,B,T,w,P,j,m=n[0].query&&F(n);return{c(){e=p("div"),t=p("h1"),t.textContent=l,u=y(),o=p("br"),i=y(),r=p("br"),a=y(),s=p("center"),c=p("form"),f=p("input"),q=y(),I=p("br"),B=y(),T=p("br"),w=y(),m&&m.c(),this.h()},l(g){e=v(g,"DIV",{class:!0});var _=E(e);t=v(_,"H1",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1gebqfn"&&(t.textContent=l),u=k(_),o=v(_,"BR",{}),i=k(_),r=v(_,"BR",{}),a=k(_),s=v(_,"CENTER",{});var A=E(s);c=v(A,"FORM",{});var D=E(c);f=v(D,"INPUT",{type:!0,name:!0,placeholder:!0}),D.forEach(b),A.forEach(b),q=k(_),I=v(_,"BR",{}),B=k(_),T=v(_,"BR",{}),w=k(_),m&&m.l(_),_.forEach(b),this.h()},h(){d(t,"class","align-center"),d(f,"type","text"),d(f,"name","query"),d(f,"placeholder","Search for Movie / Tvshow"),d(e,"class","container p-3")},m(g,_){M(g,e,_),h(e,t),h(e,u),h(e,o),h(e,i),h(e,r),h(e,a),h(e,s),h(s,c),h(c,f),V(f,n[0].query),h(e,q),h(e,I),h(e,B),h(e,T),h(e,w),m&&m.m(e,null),P||(j=W(f,"input",n[1]),P=!0)},p(g,[_]){_&1&&f.value!==g[0].query&&V(f,g[0].query),g[0].query?m?m.p(g,_):(m=F(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:O,o:O,d(g){g&&b(e),m&&m.d(),P=!1,j()}}}function ee(n,e,t){let{data:l}=e;function u(){l.query=this.value,t(0,l)}return n.$$set=o=>{"data"in o&&t(0,l=o.data)},[l,u]}class ie extends K{constructor(e){super(),L(this,e,ee,x,J,{data:0})}}export{ie as component,ae as universal};
