import{g as A,e as B,u as G,d as O,m as R}from"../chunks/global.0085e4a6.js";import{v as z}from"../chunks/views.7b993c1f.js";import{s as V,n as S,f as j}from"../chunks/scheduler.b562018a.js";import{S as q,i as x,g,s as y,h as b,j as E,f as c,c as $,k as v,a as w,y as k,m as C,r as H,n as T,u as F,v as J,o as K,d as L,t as N,w as Q}from"../chunks/index.e5922e3f.js";async function U({params:r,url:t,fetch:a}){const e=z[r.view],i=t.searchParams.get("page")??"1",o=await A(a,e.endpoint,{page:i});return{view:r.view,endpoint:e.endpoint,movies:o,next_page:o.page<o.total_pages?o.page+1:null}}const le=Object.freeze(Object.defineProperty({__proto__:null,load:U},Symbol.toStringTag,{value:"Module"}));function D(r,t,a){const e=r.slice();return e[2]=t[a],e}function M(r,t){let a,e,i,o,p,d;return{key:r,first:null,c(){a=g("a"),e=g("img"),p=y(),this.h()},l(_){a=b(_,"A",{href:!0});var u=E(a);e=b(u,"IMG",{src:!0,alt:!0,class:!0}),p=$(u),u.forEach(c),this.h()},h(){j(e.src,i=R(t[2].poster_path,200))||v(e,"src",i),v(e,"alt",o=t[2].title),v(e,"class","svelte-orx7ow"),v(a,"href",d=`/movie/${t[2].id}`),this.first=a},m(_,u){w(_,a,u),k(a,e),k(a,p)},p(_,u){t=_,u&1&&!j(e.src,i=R(t[2].poster_path,200))&&v(e,"src",i),u&1&&o!==(o=t[2].title)&&v(e,"alt",o),u&1&&d!==(d=`/movie/${t[2].id}`)&&v(a,"href",d)},d(_){_&&c(a)}}}function P(r){let t,a;return{c(){t=g("a"),a=g("i"),this.h()},l(e){t=b(e,"A",{class:!0,href:!0});var i=E(t);a=b(i,"I",{class:!0}),E(a).forEach(c),i.forEach(c),this.h()},h(){v(a,"class","fa-solid fa-arrow-right"),v(t,"class","next btn btn-dark px-2 svelte-orx7ow"),v(t,"href",r[1])},m(e,i){w(e,t,i),k(t,a)},p(e,i){i&2&&v(t,"href",e[1])},d(e){e&&c(t)}}}function W(r){let t,a,e=[],i=new Map,o,p,d,_=B(r[0]);const u=n=>n[2].id;for(let n=0;n<_.length;n+=1){let l=D(r,_,n),m=u(l);i.set(m,e[n]=M(m,l))}let f=r[1]&&P(r);return{c(){t=g("div"),a=g("div");for(let n=0;n<e.length;n+=1)e[n].c();o=y(),p=g("br"),d=y(),f&&f.c(),this.h()},l(n){t=b(n,"DIV",{class:!0});var l=E(t);a=b(l,"DIV",{class:!0});var m=E(a);for(let s=0;s<e.length;s+=1)e[s].l(m);m.forEach(c),o=$(l),p=b(l,"BR",{}),d=$(l),f&&f.l(l),l.forEach(c),this.h()},h(){v(a,"class","grid"),v(t,"class","container")},m(n,l){w(n,t,l),k(t,a);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(a,null);k(t,o),k(t,p),k(t,d),f&&f.m(t,null)},p(n,[l]){l&1&&(_=B(n[0]),e=G(e,l,u,1,n,_,i,a,O,M,null,D)),n[1]?f?f.p(n,l):(f=P(n),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i:S,o:S,d(n){n&&c(t);for(let l=0;l<e.length;l+=1)e[l].d();f&&f.d()}}}function X(r,t,a){let{movies:e}=t,{next:i}=t;return r.$$set=o=>{"movies"in o&&a(0,e=o.movies),"next"in o&&a(1,i=o.next)},[e,i]}class Y extends q{constructor(t){super(),x(this,t,X,W,V,{movies:0,next:1})}}function Z(r){let t,a,e,i,o=r[0].view+"",p,d,_,u,f,n,l,m;return l=new Y({props:{movies:r[0].movies.results,next:r[0].next_page?`/movies/${r[0].view}?page=${r[0].next_page}`:null}}),{c(){t=g("br"),a=y(),e=g("div"),i=g("h1"),p=C(o),d=y(),_=g("br"),u=y(),f=g("br"),n=y(),H(l.$$.fragment),this.h()},l(s){t=b(s,"BR",{}),a=$(s),e=b(s,"DIV",{class:!0});var h=E(e);i=b(h,"H1",{});var I=E(i);p=T(I,o),I.forEach(c),h.forEach(c),d=$(s),_=b(s,"BR",{}),u=$(s),f=b(s,"BR",{}),n=$(s),F(l.$$.fragment,s),this.h()},h(){v(e,"class","container align-center")},m(s,h){w(s,t,h),w(s,a,h),w(s,e,h),k(e,i),k(i,p),w(s,d,h),w(s,_,h),w(s,u,h),w(s,f,h),w(s,n,h),J(l,s,h),m=!0},p(s,[h]){(!m||h&1)&&o!==(o=s[0].view+"")&&K(p,o);const I={};h&1&&(I.movies=s[0].movies.results),h&1&&(I.next=s[0].next_page?`/movies/${s[0].view}?page=${s[0].next_page}`:null),l.$set(I)},i(s){m||(L(l.$$.fragment,s),m=!0)},o(s){N(l.$$.fragment,s),m=!1},d(s){s&&(c(t),c(a),c(e),c(d),c(_),c(u),c(f),c(n)),Q(l,s)}}}function ee(r,t,a){let{data:e}=t;return r.$$set=i=>{"data"in i&&a(0,e=i.data)},[e]}class ne extends q{constructor(t){super(),x(this,t,ee,Z,V,{data:0})}}export{ne as component,le as universal};
